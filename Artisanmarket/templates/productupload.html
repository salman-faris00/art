<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <title>Product Upload</title>

    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: #f8f9fa;
        }

        .container {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            padding: 30px;
            margin-top: 50px;
            max-width: 600px;
        }

        h2 {
            text-align: center;
            color: #ff69b4;
            font-weight: bold;
        }

        .form-group label {
            font-weight: 500;
            margin-bottom: 5px;
        }

        .form-control, .form-control-file {
            border-radius: 8px;
        }

        .btn-primary {
            width: 100%;
            border-radius: 8px;
            padding: 10px;
            background: #ff69b4;
            border: none;
            font-size: 18px;
        }

        .btn-primary:hover {
            background: #ff1493;
        }

        /* Image preview styling */
        .image-preview {
            display: none;
            margin-top: 10px;
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: 8px;
            border: 2px dashed #ddd;
        }

    </style>
</head>
<body>

<div class="container">
    <h2>Upload a New Product</h2>
    <form method="POST" enctype="multipart/form-data" action="/productupload/">
        {% csrf_token %}

        <!-- Product Name -->
        <div class="form-group">
            <label for="productName"><i class="fas fa-box"></i> Product Name</label>
            <input type="text" class="form-control" id="productName" name="productname" placeholder="Enter product name" maxlength="50" required>
        </div>

        <!-- Product Details -->
        <div class="form-group">
            <label for="productDetails"><i class="fas fa-info-circle"></i> Product Details</label>
            <textarea class="form-control" id="productDetails" name="productdetails" rows="3" placeholder="Enter product details" maxlength="100" required></textarea>
        </div>

        <!-- Prices -->
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label for="actualPrice"><i class="fas fa-tag"></i> Actual Price</label>
                    <input type="number" class="form-control" id="actualPrice" name="actual_price" placeholder="Enter actual price" required>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label for="offerPrice"><i class="fas fa-percent"></i> Offer Price</label>
                    <input type="number" class="form-control" id="offerPrice" name="offer_price" placeholder="Enter offer price" required>
                </div>
            </div>
        </div>

        <!-- Category -->
        <div class="form-group">
            <label for="category"><i class="fas fa-list"></i> Category</label>
            <select class="form-control" id="category" name="category" required>
                <option value="" disabled selected>Select product category</option>
                <option value="A">A</option>
                <option value="B">B</option>
                <option value="C">C</option>
            </select>
        </div>

        <!-- Type -->
        <div class="form-group">
            <label for="type"><i class="fas fa-th"></i> Product Type</label>
            <select class="form-control" id="type" name="type" required>
                <option value="" disabled selected>Select a product type</option>
                <option value="cakes">Cakes</option>
                <option value="craft">Craft Items</option>
                <option value="mehandi">Mehandi</option>
            </select>
        </div>

        <!-- Quantity -->
        <div class="form-group">
            <label for="quantity"><i class="fas fa-sort-amount-up"></i> Quantity</label>
            <input type="number" class="form-control" id="quantity" name="quantity" placeholder="Enter quantity">
        </div>

        <!-- Image Uploads with Preview -->
        <div class="form-group">
            <label for="file1"><i class="fas fa-image"></i> Upload Image 1</label>
            <input type="file" class="form-control-file" id="file1" name="image1" accept="image/*" required onchange="previewImage(this, 'preview1')">
            <img id="preview1" class="image-preview">
        </div>
        <div class="form-group">
            <label for="file2"><i class="fas fa-image"></i> Upload Image 2</label>
            <input type="file" class="form-control-file" id="file2" name="image2" accept="image/*" required onchange="previewImage(this, 'preview2')">
            <img id="preview2" class="image-preview">
        </div>
        <div class="form-group">
            <label for="file3"><i class="fas fa-image"></i> Upload Image 3</label>
            <input type="file" class="form-control-file" id="file3" name="image3" accept="image/*" required onchange="previewImage(this, 'preview3')">
            <img id="preview3" class="image-preview">
        </div>

        <!-- Submit Button -->
        <button type="submit" class="btn btn-primary"><i class="fas fa-upload"></i> Upload</button>
    </form>
</div>

<script>
    function previewImage(input, previewId) {
        let preview = document.getElementById(previewId);
        let file = input.files[0];

        if (file) {
            let reader = new FileReader();
            reader.onload = function(e) {
                preview.src = e.target.result;
                preview.style.display = "block";
            };
            reader.readAsDataURL(file);
        }
    }
</script>

</body>
</html>
